<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>checks_optimization_util</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">checks_optimization_util</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="checks_optimization.html#"><span class="id" type="library">checks_optimization</span></a>.<br/>

<br/>
<span class="id" type="keyword">Scheme</span> <a name="expression_ind"><span class="id" type="definition">expression_ind</span></a> := <span class="id" type="keyword">Induction</span> <span class="id" type="keyword">for</span> <a class="idref" href="language.html#expression"><span class="id" type="inductive">expression</span></a> <span class="id" type="keyword">Sort</span> <span class="id" type="keyword">Prop</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> <a name="name_ind"><span class="id" type="definition">name_ind</span></a> := <span class="id" type="keyword">Induction</span> <span class="id" type="keyword">for</span> <a class="idref" href="language.html#name"><span class="id" type="inductive">name</span></a> <span class="id" type="keyword">Sort</span> <span class="id" type="keyword">Prop</span>.<br/>

<br/>
<span class="id" type="keyword">Scheme</span> <a name="expression_x_ind"><span class="id" type="definition">expression_x_ind</span></a> := <span class="id" type="keyword">Induction</span> <span class="id" type="keyword">for</span> <a class="idref" href="language_flagged.html#expression_x"><span class="id" type="inductive">expression_x</span></a> <span class="id" type="keyword">Sort</span> <span class="id" type="keyword">Prop</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">with</span> <a name="name_x_ind"><span class="id" type="definition">name_x_ind</span></a> := <span class="id" type="keyword">Induction</span> <span class="id" type="keyword">for</span> <a class="idref" href="language_flagged.html#name_x"><span class="id" type="inductive">name_x</span></a> <span class="id" type="keyword">Sort</span> <span class="id" type="keyword">Prop</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab148"></a><h1 class="section">ZArith Help Lemmas</h1>

<div class="paragraph"> </div>

Coq.ZArith.Zorder: http://coq.inria.fr/V8.1/stdlib/Coq.ZArith.Zorder.htmlZle_ge
                   http://coq.inria.fr/V8.1/stdlib/Coq.ZArith.Zbool.html
                   http://coq.inria.fr/V8.1/stdlib/Coq.ZArith.Zbool.htmlZle_bool

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Zge_le_bool"><span class="id" type="lemma">Zge_le_bool</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_bool"><span class="id" type="abbreviation">Zge_bool</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#b"><span class="id" type="variable">b</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#Z.leb"><span class="id" type="definition">Zle_bool</span></a>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#Z.geb"><span class="id" type="definition">Zge_bool</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zcompare.html#Zcompare_antisym"><span class="id" type="lemma">Zcompare_antisym</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">v</span>)%<span class="id" type="var">Z</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Zle_ge_bool"><span class="id" type="lemma">Zle_ge_bool</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span> <span class="id" type="var">b</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#b"><span class="id" type="variable">b</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_bool"><span class="id" type="abbreviation">Zge_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#b"><span class="id" type="variable">b</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#Z.geb"><span class="id" type="definition">Zge_bool</span></a>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#Z.leb"><span class="id" type="definition">Zle_bool</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zcompare.html#Zcompare_antisym"><span class="id" type="lemma">Zcompare_antisym</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> (<span class="id" type="var">u</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'?='_x"><span class="id" type="notation">?=</span></a> <span class="id" type="var">v</span>)%<span class="id" type="var">Z</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
In run time check semantics, Zge_bool and Zle_bool is used to define overflow check,
    and in eval_expr_value_in_domain, &lt;= and &gt;= are used, the following lemmas are used
    to build their relationships;

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">y</span>,  <br/>
&nbsp;&nbsp;(<a class="idref" href="checks_optimization_util.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="checks_optimization_util.html#y"><span class="id" type="variable">y</span></a>)%<span class="id" type="var">Z</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="checks_optimization_util.html#y"><span class="id" type="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="checks_optimization_util.html#x"><span class="id" type="variable">x</span></a>)%<span class="id" type="var">Z</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_reg_l"><span class="id" type="lemma">Zplus_le_reg_l</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">p</span> := <span class="id" type="var">y</span>).<br/>
&nbsp;&nbsp;<span class="id" type="var">smack</span>. <span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Lt_Le_Bool_False"><span class="id" type="lemma">Lt_Le_Bool_False</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;(<a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)%<span class="id" type="var">Z</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#Zge_le_bool"><span class="id" type="lemma">Zge_le_bool</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#Z.geb"><span class="id" type="definition">Zge_bool</span></a>; <span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#Z.lt"><span class="id" type="definition">Zlt</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Zgele_Bool_Imp_GeLe_T"><span class="id" type="lemma">Zgele_Bool_Imp_GeLe_T</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_bool"><span class="id" type="abbreviation">Zge_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> (<a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a>)%<span class="id" type="var">Z</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#andb_prop"><span class="id" type="lemma">andb_prop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">HZ</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">HZ1</span> <span class="id" type="var">HZ2</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_cases"><span class="id" type="lemma">Zge_cases</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HZ1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool_imp_le"><span class="id" type="lemma">Zle_bool_imp_le</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Zgele_Bool_Imp_GeLe_F"><span class="id" type="lemma">Zgele_Bool_Imp_GeLe_F</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_bool"><span class="id" type="abbreviation">Zge_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> (<a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)%<span class="id" type="var">Z</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_bool"><span class="id" type="abbreviation">Zge_bool</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b1</span>; <br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <span class="id" type="var">v</span> <span class="id" type="var">u</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb1</span>, <span class="id" type="var">Heqb2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b1</span>, <span class="id" type="var">b2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_cases"><span class="id" type="lemma">Zle_cases</span></a> <span class="id" type="var">v</span> <span class="id" type="var">u</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqb2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_cases"><span class="id" type="lemma">Zge_cases</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqb1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zge_cases"><span class="id" type="lemma">Zge_cases</span></a> <span class="id" type="var">v</span> <span class="id" type="var">l</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqb1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> (<a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<='_x"><span class="id" type="notation">&lt;=</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a>)%<span class="id" type="var">Z</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#andb_prop"><span class="id" type="lemma">andb_prop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">HZ</span> <span class="id" type="keyword">as</span> [<span class="id" type="var">HZ1</span> <span class="id" type="var">HZ2</span>].<br/>
&nbsp;&nbsp;<span class="id" type="tactic">split</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_cases"><span class="id" type="lemma">Zle_cases</span></a> <span class="id" type="var">l</span> <span class="id" type="var">v</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">HZ1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool_imp_le"><span class="id" type="lemma">Zle_bool_imp_le</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Zlele_Bool_Imp_LeLe_F"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_F</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a>)%<span class="id" type="var">Z</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> (<a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'<'_x"><span class="id" type="notation">&lt;</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)%<span class="id" type="var">Z</span>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#andb"><span class="id" type="definition">andb</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <span class="id" type="var">l</span> <span class="id" type="var">v</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b1</span>; <br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_bool"><span class="id" type="abbreviation">Zle_bool</span></a> <span class="id" type="var">v</span> <span class="id" type="var">u</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">Heqb1</span>, <span class="id" type="var">Heqb2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b1</span>, <span class="id" type="var">b2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_cases"><span class="id" type="lemma">Zle_cases</span></a> <span class="id" type="var">v</span> <span class="id" type="var">u</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqb2</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_cases"><span class="id" type="lemma">Zle_cases</span></a> <span class="id" type="var">l</span> <span class="id" type="var">v</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqb1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_cases"><span class="id" type="lemma">Zle_cases</span></a> <span class="id" type="var">l</span> <span class="id" type="var">v</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">Heqb1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="In_Bound_Refl"><span class="id" type="lemma">In_Bound_Refl</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zle_refl"><span class="id" type="abbreviation">Zle_refl</span></a> <span class="id" type="var">v</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span>); <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_bound_conflict"><span class="id" type="lemma">in_bound_conflict</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">bound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#bound"><span class="id" type="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#bound"><span class="id" type="variable">bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_in_bound_conflict</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">bound</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">bound</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#in_bound_conflict"><span class="id" type="lemma">in_bound_conflict</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>)<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
l &lt;= v &lt;= u, l' &lt;= l &lt;= u', l' &lt;= u &lt;= u' =&gt; l' &lt;= v &lt;= u', where vBound = (l', u') 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="In_Bound_Trans"><span class="id" type="lemma">In_Bound_Trans</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span> <span class="id" type="var">vBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">andb_true_iff</span></a>; <span class="id" type="tactic">split</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" type="abbreviation">Zle_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H3</span> <span class="id" type="var">H0</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zle_trans"><span class="id" type="abbreviation">Zle_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H5</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_In_Bound_Trans</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> ?<span class="id" type="var">l</span> ?<span class="id" type="var">u</span>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">l</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">u</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#In_Bound_Trans"><span class="id" type="lemma">In_Bound_Trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="In_Bound_SubBound_Trans"><span class="id" type="lemma">In_Bound_SubBound_Trans</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">vBound</span> <span class="id" type="var">vBound'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_In_Bound_Trans</span>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_In_Bound_SubBound_Trans</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> ?<span class="id" type="var">b</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#In_Bound_SubBound_Trans"><span class="id" type="lemma">In_Bound_SubBound_Trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
l1 &lt;= v1 &lt;= u1, l2 &lt;= v2 &lt;= u2 =&gt; (l1+l2) &lt;= (v1+v2) &lt;= (u1+u2) 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="In_Bound_Plus_Compat"><span class="id" type="lemma">In_Bound_Plus_Compat</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">l1</span> <span class="id" type="var">u1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l2</span> <span class="id" type="var">u2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (<a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> (<a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a>) (<a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">andb_true_iff</span></a>; <span class="id" type="tactic">split</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span> <span class="id" type="var">H2</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H3</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_In_Bound_Plus_Compat</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v1</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v2</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#In_Bound_Plus_Compat"><span class="id" type="lemma">In_Bound_Plus_Compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
l1 &lt;= v1 &lt;= u1, l2 &lt;= v2 &lt;= u2 =&gt; (l1-u2) &lt;= (v1-v2) &lt;= (u1-l2) 
</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="In_Bound_Minus_Compat"><span class="id" type="lemma">In_Bound_Minus_Compat</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">l1</span> <span class="id" type="var">u1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l2</span> <span class="id" type="var">u2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (<a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> (<a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>) (<a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_true_iff"><span class="id" type="lemma">andb_true_iff</span></a>; <span class="id" type="tactic">split</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H3</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ2</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H2</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ2</span>); <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_In_Bound_Minus_Compat</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v1</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v2</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#In_Bound_Minus_Compat"><span class="id" type="lemma">In_Bound_Minus_Compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Sub_Bound_Plus_Compat"><span class="id" type="lemma">Sub_Bound_Plus_Compat</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">l1</span> <span class="id" type="var">u1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l2</span> <span class="id" type="var">u2</span> <span class="id" type="var">vBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (<a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+</span></a><a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a>) <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> (<a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a>) (<a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+</span></a> <a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>)) <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_F"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_F</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span> <span class="id" type="var">H3</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zle_lt_trans"><span class="id" type="abbreviation">Zle_lt_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ1</span> <span class="id" type="var">H2</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>. <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_false_iff"><span class="id" type="lemma">andb_false_iff</span></a>; <span class="id" type="tactic">left</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#Lt_Le_Bool_False"><span class="id" type="lemma">Lt_Le_Bool_False</span></a>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H4</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zlt_le_trans"><span class="id" type="abbreviation">Zlt_le_trans</span></a>  <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H2</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_false_iff"><span class="id" type="lemma">andb_false_iff</span></a>; <span class="id" type="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#Lt_Le_Bool_False"><span class="id" type="lemma">Lt_Le_Bool_False</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_Sub_Bound_Plus_Compat</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v1</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v2</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (?<span class="id" type="var">v1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'+'_x"><span class="id" type="notation">+?</span></a><span class="id" type="var">v2</span>) <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Sub_Bound_Plus_Compat"><span class="id" type="lemma">Sub_Bound_Plus_Compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Sub_Bound_Minus_Compat"><span class="id" type="lemma">Sub_Bound_Minus_Compat</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">l1</span> <span class="id" type="var">u1</span> <span class="id" type="var">v2</span> <span class="id" type="var">l2</span> <span class="id" type="var">u2</span> <span class="id" type="var">vBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a> <a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (<a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a><a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a>) <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> (<a class="idref" href="checks_optimization_util.html#l1"><span class="id" type="variable">l1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#u2"><span class="id" type="variable">u2</span></a>) (<a class="idref" href="checks_optimization_util.html#u1"><span class="id" type="variable">u1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#l2"><span class="id" type="variable">l2</span></a>)) <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_F"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_F</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H4</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zle_lt_trans"><span class="id" type="abbreviation">Zle_lt_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ2</span> <span class="id" type="var">H2</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ3</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">left</span>; <span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_false_iff"><span class="id" type="lemma">andb_false_iff</span></a>; <span class="id" type="tactic">left</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#Lt_Le_Bool_False"><span class="id" type="lemma">Lt_Le_Bool_False</span></a>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H3</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zplus_le_compat"><span class="id" type="abbreviation">Zplus_le_compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zlt_le_trans"><span class="id" type="abbreviation">Zlt_le_trans</span></a>  <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H2</span> <span class="id" type="var">HZ2</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ3</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">right</span>; <span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_false_iff"><span class="id" type="lemma">andb_false_iff</span></a>; <span class="id" type="tactic">right</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#Lt_Le_Bool_False"><span class="id" type="lemma">Lt_Le_Bool_False</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_Sub_Bound_Minus_Compat</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v1</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v2</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (?<span class="id" type="var">v1</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'-'_x"><span class="id" type="notation">-?</span></a><span class="id" type="var">v2</span>) <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Sub_Bound_Minus_Compat"><span class="id" type="lemma">Sub_Bound_Minus_Compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="Sub_Bound_Unary_Minus_Compat"><span class="id" type="lemma">Sub_Bound_Unary_Minus_Compat</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span> <span class="id" type="var">vBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a>)) <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_F"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_F</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;[<span class="id" type="tactic">left</span> | <span class="id" type="tactic">right</span>];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_false_iff"><span class="id" type="lemma">andb_false_iff</span></a>; <span class="id" type="tactic">left</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H2</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zle_lt_trans"><span class="id" type="abbreviation">Zle_lt_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ1</span> <span class="id" type="var">H1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#Lt_Le_Bool_False"><span class="id" type="lemma">Lt_Le_Bool_False</span></a>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Bool.Bool.html#andb_false_iff"><span class="id" type="lemma">andb_false_iff</span></a>; <span class="id" type="tactic">right</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zlt_le_trans"><span class="id" type="abbreviation">Zlt_le_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#Lt_Le_Bool_False"><span class="id" type="lemma">Lt_Le_Bool_False</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_Sub_Bound_Unary_Minus_Compat</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">v</span>) <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Sub_Bound_Unary_Minus_Compat"><span class="id" type="lemma">Sub_Bound_Unary_Minus_Compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="In_Bound_Unary_Minus_Compat"><span class="id" type="lemma">In_Bound_Unary_Minus_Compat</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:'-'_x"><span class="id" type="notation">-</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H2</span>); <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Le_Neg_Ge"><span class="id" type="lemma">Le_Neg_Ge</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ2</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a>  <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ3</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zle_imp_le_bool"><span class="id" type="lemma">Zle_imp_le_bool</span></a>  <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">HZ2</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_bound_value_neq_zero"><span class="id" type="lemma">in_bound_value_neq_zero</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">vBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> 0 <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zeq_bool"><span class="id" type="definition">Zeq_bool</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> 0 <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_T"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_T</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:bool_scope:x_'&&'_x"><span class="id" type="notation">&amp;&amp;</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#Zlele_Bool_Imp_LeLe_F"><span class="id" type="lemma">Zlele_Bool_Imp_LeLe_F</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;[ <span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zlt_le_trans"><span class="id" type="abbreviation">Zlt_le_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H0</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zorder.html#Zle_lt_trans"><span class="id" type="abbreviation">Zle_lt_trans</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H2</span> <span class="id" type="var">H1</span>); <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ1</span><br/>
&nbsp;&nbsp;];<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.Zbool.html#Zeq_bool"><span class="id" type="definition">Zeq_bool</span></a>; <br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">v</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_in_bound_value_neq_zero</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> 0 ?<span class="id" type="var">b</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#in_bound_value_neq_zero"><span class="id" type="lemma">in_bound_value_neq_zero</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="removed_check_flag_notin"><span class="id" type="lemma">removed_check_flag_notin</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ck</span> <span class="id" type="var">cks</span> <span class="id" type="var">cks'</span>,<br/>
&nbsp;<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ck</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_removed_check_flag_notin</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#removed_check_flag_notin"><span class="id" type="lemma">removed_check_flag_notin</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">symmetry</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#removed_check_flag_notin"><span class="id" type="lemma">removed_check_flag_notin</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="remove_notin_check_flag"><span class="id" type="lemma">remove_notin_check_flag</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ck</span> <span class="id" type="var">cks</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">ck</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_remove_notin_check_flag</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">~(</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:'~'_x"><span class="id" type="notation">)</span></a> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#remove_notin_check_flag"><span class="id" type="lemma">remove_notin_check_flag</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#False"><span class="id" type="inductive">False</span></a> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#remove_notin_check_flag"><span class="id" type="lemma">remove_notin_check_flag</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>); <span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="check_flag_in_reserve"><span class="id" type="lemma">check_flag_in_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ck</span> <span class="id" type="var">ck'</span> <span class="id" type="var">cks</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#ck'"><span class="id" type="variable">ck'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck'"><span class="id" type="variable">ck'</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck'</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_check_flag_in_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> ?<span class="id" type="var">ck</span> ?<span class="id" type="var">ck'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> ?<span class="id" type="var">ck</span> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> ?<span class="id" type="var">ck'</span> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#check_flag_in_reserve"><span class="id" type="lemma">check_flag_in_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="check_flag_in_reserve2"><span class="id" type="lemma">check_flag_in_reserve2</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">ck</span> <span class="id" type="var">ck'</span> <span class="id" type="var">cks</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#ck'"><span class="id" type="variable">ck'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck'"><span class="id" type="variable">ck'</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck'</span> <span class="id" type="var">ck</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ck</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">ck'</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck'</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>; <span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_check_flag_in_reserve2</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [ <span class="id" type="var">H1</span>: <a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> ?<span class="id" type="var">ck</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Lists.List.html#In"><span class="id" type="definition">List.In</span></a> ?<span class="id" type="var">ck</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#check_flag_in_reserve2"><span class="id" type="lemma">check_flag_in_reserve2</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="in_bound_unique"><span class="id" type="lemma">in_bound_unique</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">vBound</span> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="checks_optimization_util.html#b1"><span class="id" type="variable">b1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="checks_optimization_util.html#b2"><span class="id" type="variable">b2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization_util.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#b2"><span class="id" type="variable">b2</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_in_bound_unique</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#in_bound_unique"><span class="id" type="lemma">in_bound_unique</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="sub_bound_unique"><span class="id" type="lemma">sub_bound_unique</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">bound1</span> <span class="id" type="var">bound2</span> <span class="id" type="var">b1</span> <span class="id" type="var">b2</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> <a class="idref" href="checks_optimization_util.html#bound1"><span class="id" type="variable">bound1</span></a> <a class="idref" href="checks_optimization_util.html#bound2"><span class="id" type="variable">bound2</span></a> <a class="idref" href="checks_optimization_util.html#b1"><span class="id" type="variable">b1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> <a class="idref" href="checks_optimization_util.html#bound1"><span class="id" type="variable">bound1</span></a> <a class="idref" href="checks_optimization_util.html#bound2"><span class="id" type="variable">bound2</span></a> <a class="idref" href="checks_optimization_util.html#b2"><span class="id" type="variable">b2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization_util.html#b1"><span class="id" type="variable">b1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#b2"><span class="id" type="variable">b2</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_in_bound_unique</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_sub_bound_unique</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> ?<span class="id" type="var">bound1</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> ?<span class="id" type="var">bound1</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#sub_bound_unique"><span class="id" type="lemma">sub_bound_unique</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="optimize_name_ast_num_eq"><span class="id" type="lemma">optimize_name_ast_num_eq</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">n</span> <span class="id" type="var">n'</span> <span class="id" type="var">nBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#nBound"><span class="id" type="variable">nBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#name_astnum_x"><span class="id" type="definition">name_astnum_x</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#name_astnum_x"><span class="id" type="definition">name_astnum_x</span></a> <a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a>) <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_optimize_name_ast_num_eq</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#optimize_name_ast_num_eq"><span class="id" type="lemma">optimize_name_ast_num_eq</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="optimize_exp_ex_cks_eq"><span class="id" type="lemma">optimize_exp_ex_cks_eq</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span> <span class="id" type="var">eBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_expression_x"><span class="id" type="inductive">optimize_expression_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#eBound"><span class="id" type="variable">eBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="language_util.html#exp_exterior_checks"><span class="id" type="definition">exp_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_util.html#exp_exterior_checks"><span class="id" type="definition">exp_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_optimize_exp_ex_cks_eq</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_expression_x"><span class="id" type="inductive">optimize_expression_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#optimize_exp_ex_cks_eq"><span class="id" type="lemma">optimize_exp_ex_cks_eq</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="optimize_name_ex_cks_eq"><span class="id" type="lemma">optimize_name_ex_cks_eq</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">n</span> <span class="id" type="var">n'</span> <span class="id" type="var">nBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#nBound"><span class="id" type="variable">nBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="language_util.html#name_exterior_checks"><span class="id" type="definition">name_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_util.html#name_exterior_checks"><span class="id" type="definition">name_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_optimize_name_ex_cks_eq</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#optimize_name_ex_cks_eq"><span class="id" type="lemma">optimize_name_ex_cks_eq</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eval_expr_value_reserve"><span class="id" type="lemma">eval_expr_value_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">eBound</span> <span class="id" type="var">rBound</span> <span class="id" type="var">e'</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_range_check"><span class="id" type="inductive">optimize_range_check</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#eBound"><span class="id" type="variable">eBound</span></a> <a class="idref" href="checks_optimization_util.html#rBound"><span class="id" type="variable">rBound</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#eval_expr_x"><span class="id" type="inductive">eval_expr_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#eval_expr_x"><span class="id" type="inductive">eval_expr_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#eval_exp_ex_cks_added"><span class="id" type="lemma">eval_exp_ex_cks_added</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_eval_expr_value_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="checks_optimization.html#optimize_range_check"><span class="id" type="inductive">optimize_range_check</span></a> ?<span class="id" type="var">e</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics_flagged.html#eval_expr_x"><span class="id" type="inductive">eval_expr_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ?<span class="id" type="var">e</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#eval_expr_value_reserve"><span class="id" type="lemma">eval_expr_value_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intro</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="eval_expr_value_copy_out_opt_reserve"><span class="id" type="lemma">eval_expr_value_copy_out_opt_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">eBound</span> <span class="id" type="var">rBound</span> <span class="id" type="var">e'</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_range_check_on_copy_out"><span class="id" type="inductive">optimize_range_check_on_copy_out</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#eBound"><span class="id" type="variable">eBound</span></a> <a class="idref" href="checks_optimization_util.html#rBound"><span class="id" type="variable">rBound</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#eval_expr_x"><span class="id" type="inductive">eval_expr_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#eval_expr_x"><span class="id" type="inductive">eval_expr_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#eval_exp_ex_cks_added"><span class="id" type="lemma">eval_exp_ex_cks_added</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_eval_expr_value_copy_out_opt_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="checks_optimization.html#optimize_range_check_on_copy_out"><span class="id" type="inductive">optimize_range_check_on_copy_out</span></a> ?<span class="id" type="var">e</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics_flagged.html#eval_expr_x"><span class="id" type="inductive">eval_expr_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ?<span class="id" type="var">e</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#eval_expr_value_copy_out_opt_reserve"><span class="id" type="lemma">eval_expr_value_copy_out_opt_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intro</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="remove_check_on_binop_reserve"><span class="id" type="lemma">remove_check_on_binop_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">cks</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span> <span class="id" type="var">ck</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [|- <span class="id" type="keyword">context</span>[<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">_</span> <a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a>]] =&gt; <span class="id" type="tactic">destruct</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck</span> <a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a>); <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;| [|- <span class="id" type="keyword">context</span>[<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">_</span> <a class="idref" href="checks.html#Do_Division_Check"><span class="id" type="constructor">Do_Division_Check</span></a>]] =&gt; <span class="id" type="tactic">destruct</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck</span> <a class="idref" href="checks.html#Do_Division_Check"><span class="id" type="constructor">Do_Division_Check</span></a>); <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Binop"><span class="id" type="constructor">Do_Checks_Binop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v</span>:=<span class="id" type="var">v4</span>); <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="safe_remove_binop_check"><span class="id" type="lemma">safe_remove_binop_check</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">cks</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span> <span class="id" type="var">ck</span> <span class="id" type="var">v'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> ?<span class="id" type="var">a</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="keyword">context</span>[?<span class="id" type="var">a</span>]] =&gt; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span>, <span class="id" type="var">H2</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="var">apply_in_bound_unique</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="semantics.html#do_division_check"><span class="id" type="inductive">do_division_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics.html#do_division_check"><span class="id" type="inductive">do_division_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">solve</span><br/>
&nbsp;&nbsp;[ <span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Binop_RTE"><span class="id" type="constructor">Do_Checks_Binop_RTE</span></a>; <span class="id" type="tactic">auto</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Binop"><span class="id" type="constructor">Do_Checks_Binop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v</span>:=<span class="id" type="var">v5</span>); <span class="id" type="var">smack</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Binop"><span class="id" type="constructor">Do_Checks_Binop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v</span>:=<span class="id" type="var">v4</span>); <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;].<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_safe_remove_binop_check</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">op</span> ?<span class="id" type="var">v1</span> ?<span class="id" type="var">v2</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">op</span> ?<span class="id" type="var">v1</span> ?<span class="id" type="var">v2</span> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#safe_remove_binop_check"><span class="id" type="lemma">safe_remove_binop_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="remove_check_on_unop_reserve"><span class="id" type="lemma">remove_check_on_unop_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">cks</span> <span class="id" type="var">op</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span> <span class="id" type="var">ck</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a>).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_unop"><span class="id" type="inductive">do_flagged_check_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [|- <span class="id" type="keyword">context</span>[<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">_</span> <a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a>]] =&gt; <span class="id" type="tactic">destruct</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck</span> <a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a>); <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Unop"><span class="id" type="constructor">Do_Checks_Unop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v'</span>:=<span class="id" type="var">v'0</span>); <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="safe_remove_unop_check"><span class="id" type="lemma">safe_remove_unop_check</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">cks</span> <span class="id" type="var">op</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span> <span class="id" type="var">ck</span> <span class="id" type="var">v''</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_check_on_unop"><span class="id" type="inductive">do_flagged_check_on_unop</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <a class="idref" href="checks_optimization_util.html#v''"><span class="id" type="variable">v''</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">cks</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_unop"><span class="id" type="inductive">do_flagged_check_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_unop"><span class="id" type="inductive">do_flagged_check_on_unop</span></a> ?<span class="id" type="var">a</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="keyword">context</span>[?<span class="id" type="var">a</span>]] =&gt; <span class="id" type="tactic">destruct</span> <span class="id" type="var">a</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#Math.unary_minus"><span class="id" type="definition">Math.unary_minus</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span>, <span class="id" type="var">H2</span>: <a class="idref" href="values.html#Math.unary_minus"><span class="id" type="definition">Math.unary_minus</span></a> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H1</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="var">apply_in_bound_unique</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Qed</span> .<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_safe_remove_unop_check</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">op</span> ?<span class="id" type="var">v</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_unop"><span class="id" type="inductive">do_flagged_check_on_unop</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">op</span> ?<span class="id" type="var">v</span> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#safe_remove_unop_check"><span class="id" type="lemma">safe_remove_unop_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="do_overflow_checks_reserve"><span class="id" type="lemma">do_overflow_checks_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">cks</span> <span class="id" type="var">v'</span> <span class="id" type="var">ck</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="values.html#int32_bound"><span class="id" type="definition">int32_bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_overflow_checks"><span class="id" type="inductive">do_overflow_checks</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a> -&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_overflow_checks"><span class="id" type="inductive">do_overflow_checks</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [|- <span class="id" type="keyword">context</span>[<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">_</span> <a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a>]] =&gt; <span class="id" type="tactic">destruct</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck</span> <a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a>); <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="do_range_checks_reserve"><span class="id" type="lemma">do_range_checks_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">cks</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span> <span class="id" type="var">ck</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_range_checks"><span class="id" type="inductive">do_range_checks</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_range_checks"><span class="id" type="inductive">do_range_checks</span></a> (<a class="idref" href="checks_optimization.html#remove_check_flag"><span class="id" type="definition">remove_check_flag</span></a> <a class="idref" href="checks_optimization_util.html#ck"><span class="id" type="variable">ck</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>; <br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [|- <span class="id" type="keyword">context</span>[<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">_</span> <a class="idref" href="checks.html#Do_Range_Check"><span class="id" type="constructor">Do_Range_Check</span></a>]] =&gt; <span class="id" type="tactic">destruct</span> (<a class="idref" href="checks.html#beq_check_flag"><span class="id" type="definition">beq_check_flag</span></a> <span class="id" type="var">ck</span> <a class="idref" href="checks.html#Do_Range_Check"><span class="id" type="constructor">Do_Range_Check</span></a>); <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="do_range_check_same_result"><span class="id" type="lemma">do_range_check_same_result</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">eBound</span> <span class="id" type="var">rBound</span> <span class="id" type="var">e'</span> <span class="id" type="var">v</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_range_check"><span class="id" type="inductive">optimize_range_check</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#eBound"><span class="id" type="variable">eBound</span></a> <a class="idref" href="checks_optimization_util.html#rBound"><span class="id" type="variable">rBound</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_range_checks"><span class="id" type="inductive">do_range_checks</span></a> (<a class="idref" href="language_util.html#exp_exterior_checks"><span class="id" type="definition">exp_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_range_checks"><span class="id" type="inductive">do_range_checks</span></a> (<a class="idref" href="language_util.html#exp_exterior_checks"><span class="id" type="definition">exp_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a>) <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)).<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <a class="idref" href="language_util.html#exp_updated_exterior_checks"><span class="id" type="lemma">exp_updated_exterior_checks</span></a>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#do_range_checks_reserve"><span class="id" type="lemma">do_range_checks_reserve</span></a>; <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_do_range_check_same_result</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="checks_optimization.html#optimize_range_check"><span class="id" type="inductive">optimize_range_check</span></a> ?<span class="id" type="var">e</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> ?<span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics_flagged.html#do_range_checks"><span class="id" type="inductive">do_range_checks</span></a> (<a class="idref" href="language_util.html#exp_exterior_checks"><span class="id" type="definition">exp_exterior_checks</span></a> ?<span class="id" type="var">e</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#do_range_check_same_result"><span class="id" type="lemma">do_range_check_same_result</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="optimize_overflow_check_reserve"><span class="id" type="lemma">optimize_overflow_check_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">vBound</span> <span class="id" type="var">cks</span> <span class="id" type="var">retBound</span> <span class="id" type="var">cks'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="values.html#int32_bound"><span class="id" type="definition">int32_bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#retBound"><span class="id" type="variable">retBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_sub_bound_unique</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_optimize_overflow_check_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> ?<span class="id" type="var">b</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> ?<span class="id" type="var">b</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> ( <a class="idref" href="checks_optimization_util.html#optimize_overflow_check_reserve"><span class="id" type="lemma">optimize_overflow_check_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="optimize_range_check_reserve"><span class="id" type="lemma">optimize_range_check_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">vBound</span> <span class="id" type="var">vBound'</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_range_check"><span class="id" type="inductive">optimize_range_check</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_range_check"><span class="id" type="inductive">optimize_range_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_In_Bound_Trans</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_optimize_range_check_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">eBound</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">eBound'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="checks_optimization.html#optimize_range_check"><span class="id" type="inductive">optimize_range_check</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">eBound</span> ?<span class="id" type="var">eBound'</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#optimize_range_check_reserve"><span class="id" type="lemma">optimize_range_check_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="optimize_range_check_on_copy_out_reserve"><span class="id" type="lemma">optimize_range_check_on_copy_out_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">vBound</span> <span class="id" type="var">vBound'</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_range_check_on_copy_out"><span class="id" type="inductive">optimize_range_check_on_copy_out</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_range_check_on_copy_out"><span class="id" type="inductive">optimize_range_check_on_copy_out</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_In_Bound_Trans</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">repeat</span> <span class="id" type="tactic">progress</span> <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_optimize_range_check_on_copy_out_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">vBound</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">vBound'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="checks_optimization.html#optimize_range_check_on_copy_out"><span class="id" type="inductive">optimize_range_check_on_copy_out</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">vBound</span> ?<span class="id" type="var">vBound'</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#optimize_range_check_on_copy_out_reserve"><span class="id" type="lemma">optimize_range_check_on_copy_out_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="do_flagged_checks_on_binop_reserve"><span class="id" type="lemma">do_flagged_checks_on_binop_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v1</span> <span class="id" type="var">v1Bound</span> <span class="id" type="var">v2</span> <span class="id" type="var">v2Bound</span> <span class="id" type="var">cks</span> <span class="id" type="var">bound1</span> <span class="id" type="var">cks'</span> <span class="id" type="var">op</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="checks_optimization_util.html#v1Bound"><span class="id" type="variable">v1Bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="checks_optimization_util.html#v2Bound"><span class="id" type="variable">v2Bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_rtc_binop"><span class="id" type="inductive">optimize_rtc_binop</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v1Bound"><span class="id" type="variable">v1Bound</span></a> <a class="idref" href="checks_optimization_util.html#v2Bound"><span class="id" type="variable">v2Bound</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#bound1"><span class="id" type="variable">bound1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a>) <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a>) <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
- <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_binop"><span class="id" type="inductive">optimize_rtc_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_binop"><span class="id" type="inductive">optimize_rtc_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>);<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics.html#do_division_check"><span class="id" type="inductive">do_division_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span> <br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;[ <span class="id" type="var">apply_Sub_Bound_Plus_Compat</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_Sub_Bound_Minus_Compat</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_in_bound_value_neq_zero</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;];<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_optimize_overflow_check_reserve</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_binop"><span class="id" type="inductive">optimize_rtc_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Binop"><span class="id" type="constructor">Do_Checks_Binop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v</span>:=<span class="id" type="var">v</span>); <span class="id" type="tactic">auto</span>);<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ck</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">try</span> (<span class="id" type="var">apply_safe_remove_binop_check</span>; <span class="id" type="var">smack</span>);<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Binop"><span class="id" type="constructor">Do_Checks_Binop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v</span>:=(<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> (<span class="id" type="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'÷'_x"><span class="id" type="notation">÷</span></a> <span class="id" type="var">v2</span>))); <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#safe_remove_binop_check"><span class="id" type="lemma">safe_remove_binop_check</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v'</span>:=(<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> (<span class="id" type="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'÷'_x"><span class="id" type="notation">÷</span></a> <span class="id" type="var">v2</span>))); <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_in_bound_value_neq_zero</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_binop"><span class="id" type="inductive">do_flagged_check_on_binop</span></a> <span class="id" type="var">_</span> <a class="idref" href="language_basics.html#Divide"><span class="id" type="constructor">Divide</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="values.html#Run_Time_Error"><span class="id" type="constructor">Run_Time_Error</span></a> <span class="id" type="var">_</span>) |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="values.html#Math.binary_operation"><span class="id" type="definition">Math.binary_operation</span></a> <a class="idref" href="language_basics.html#Divide"><span class="id" type="constructor">Divide</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;  <span class="id" type="tactic">unfold</span> <a class="idref" href="values.html#Math.binary_operation"><span class="id" type="definition">Math.binary_operation</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="var">apply_in_bound_unique</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics.html#do_division_check"><span class="id" type="inductive">do_division_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_in_bound_value_neq_zero</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Binop"><span class="id" type="constructor">Do_Checks_Binop</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v</span>:=(<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> (<span class="id" type="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'÷'_x"><span class="id" type="notation">÷</span></a> <span class="id" type="var">v2</span>))); <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#safe_remove_binop_check"><span class="id" type="lemma">safe_remove_binop_check</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">v'</span>:=(<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> (<span class="id" type="var">v1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.ZArith.BinInt.html#:Z_scope:x_'÷'_x"><span class="id" type="notation">÷</span></a> <span class="id" type="var">v2</span>))); <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>. <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_in_bound_value_neq_zero</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_do_flagged_checks_on_binop_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v1</span> ?<span class="id" type="var">bound1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v2</span> ?<span class="id" type="var">bound2</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_binop"><span class="id" type="inductive">optimize_rtc_binop</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">bound1</span> ?<span class="id" type="var">bound2</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H4</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> ?<span class="id" type="var">v1</span>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> ?<span class="id" type="var">v2</span>) <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#do_flagged_checks_on_binop_reserve"><span class="id" type="lemma">do_flagged_checks_on_binop_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="do_flagged_checks_on_unop_reserve"><span class="id" type="lemma">do_flagged_checks_on_unop_reserve</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">vBound</span> <span class="id" type="var">op</span> <span class="id" type="var">cks</span> <span class="id" type="var">bound1</span> <span class="id" type="var">cks'</span> <span class="id" type="var">v'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_rtc_unop"><span class="id" type="inductive">optimize_rtc_unop</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#bound1"><span class="id" type="variable">bound1</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
- <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_unop"><span class="id" type="inductive">optimize_rtc_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <span class="id" type="tactic">idtac</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>; <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_unop"><span class="id" type="inductive">do_flagged_check_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_unop"><span class="id" type="inductive">optimize_rtc_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics.html#do_overflow_check"><span class="id" type="inductive">do_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;[ <span class="id" type="var">apply_Sub_Bound_Unary_Minus_Compat</span>; <span class="id" type="var">apply_sub_bound_unique</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">apply</span> <a class="idref" href="semantics_flagged.html#Do_Checks_Unop_RTE"><span class="id" type="constructor">Do_Checks_Unop_RTE</span></a>; <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;].<br/>
- <span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span> <br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_unop"><span class="id" type="inductive">optimize_rtc_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">ck</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="semantics_flagged.html#do_flagged_check_on_unop"><span class="id" type="inductive">do_flagged_check_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">apply_safe_remove_unop_check</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_do_flagged_checks_on_unop_reserve</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">bound1</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_unop"><span class="id" type="inductive">optimize_rtc_unop</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">bound1</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> ?<span class="id" type="var">v</span>) <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#do_flagged_checks_on_unop_reserve"><span class="id" type="lemma">do_flagged_checks_on_unop_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="binop_arithm_in_bound"><span class="id" type="lemma">binop_arithm_in_bound</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">op</span> <span class="id" type="var">v1</span> <span class="id" type="var">v2</span> <span class="id" type="var">v</span> <span class="id" type="var">v1Bound</span> <span class="id" type="var">v2Bound</span> <span class="id" type="var">vBound</span> <span class="id" type="var">in_cks</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_basics.html#Plus"><span class="id" type="constructor">Plus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_basics.html#Minus"><span class="id" type="constructor">Minus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_basics.html#Multiply"><span class="id" type="constructor">Multiply</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a> <a class="idref" href="checks_optimization_util.html#v1Bound"><span class="id" type="variable">v1Bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a> <a class="idref" href="checks_optimization_util.html#v2Bound"><span class="id" type="variable">v2Bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt; <br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v1"><span class="id" type="variable">v1</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v2"><span class="id" type="variable">v2</span></a>) (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>)) -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_rtc_binop"><span class="id" type="inductive">optimize_rtc_binop</span></a> <a class="idref" href="checks_optimization_util.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="checks_optimization_util.html#v1Bound"><span class="id" type="variable">v1Bound</span></a> <a class="idref" href="checks_optimization_util.html#v2Bound"><span class="id" type="variable">v2Bound</span></a> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#in_cks"><span class="id" type="variable">in_cks</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H12</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H12</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H11</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H11</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">Type</span> <a class="idref" href="checks_optimization_util.html#In_Bound_Plus_Compat"><span class="id" type="lemma">In_Bound_Plus_Compat</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#In_Bound_Plus_Compat"><span class="id" type="lemma">In_Bound_Plus_Compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span> <span class="id" type="var">H1</span>); <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H12</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H12</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H11</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H11</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H6</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#In_Bound_Minus_Compat"><span class="id" type="lemma">In_Bound_Minus_Compat</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H0</span> <span class="id" type="var">H1</span>); <span class="id" type="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">rewrite</span> <span class="id" type="var">H7</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H7</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H2</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H5</span>; <span class="id" type="tactic">subst</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H10</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H10</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H6</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H3</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">assumption</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_binop_arithm_in_bound</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: ?<span class="id" type="var">op'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_basics.html#Plus"><span class="id" type="constructor">Plus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">op'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_basics.html#Minus"><span class="id" type="constructor">Minus</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">?</span></a><span class="id" type="var">op'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="language_basics.html#Multiply"><span class="id" type="constructor">Multiply</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v1'</span> ?<span class="id" type="var">bound1'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v2'</span> ?<span class="id" type="var">bound2'</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H4</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_binop"><span class="id" type="inductive">do_flagged_checks_on_binop</span></a> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) ?<span class="id" type="var">op'</span> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> ?<span class="id" type="var">v1'</span>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> ?<span class="id" type="var">v2'</span>) (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <span class="id" type="var">_</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H5</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_binop"><span class="id" type="inductive">optimize_rtc_binop</span></a> ?<span class="id" type="var">op'</span> ?<span class="id" type="var">bound1'</span> ?<span class="id" type="var">bound2'</span> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#binop_arithm_in_bound"><span class="id" type="lemma">binop_arithm_in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span> <span class="id" type="var">H4</span> <span class="id" type="var">H5</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="unop_arithm_in_bound"><span class="id" type="lemma">unop_arithm_in_bound</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">v</span> <span class="id" type="var">v'</span> <span class="id" type="var">vBound</span> <span class="id" type="var">vBound'</span> <span class="id" type="var">in_cks</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) <a class="idref" href="language_basics.html#Unary_Minus"><span class="id" type="constructor">Unary_Minus</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>) (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a>)) -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_rtc_unop"><span class="id" type="inductive">optimize_rtc_unop</span></a> <a class="idref" href="language_basics.html#Unary_Minus"><span class="id" type="constructor">Unary_Minus</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#in_cks"><span class="id" type="variable">in_cks</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="checks_optimization_util.html#v'"><span class="id" type="variable">v'</span></a> <a class="idref" href="checks_optimization_util.html#vBound'"><span class="id" type="variable">vBound'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H8</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H8</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">unfold</span> <a class="idref" href="values.html#Math.unary_operation"><span class="id" type="definition">Math.unary_operation</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H4</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">rewrite</span> <span class="id" type="var">H4</span> <span class="id" type="keyword">in</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H4</span>; <span class="id" type="tactic">subst</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H1</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H1</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H10</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization_util.html#In_Bound_Unary_Minus_Compat"><span class="id" type="lemma">In_Bound_Unary_Minus_Compat</span></a>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H2</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_unop_arithm_in_bound</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> ?<span class="id" type="var">v</span> ?<span class="id" type="var">bound</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="semantics_flagged.html#do_flagged_checks_on_unop"><span class="id" type="inductive">do_flagged_checks_on_unop</span></a> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) <a class="idref" href="language_basics.html#Unary_Minus"><span class="id" type="constructor">Unary_Minus</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> ?<span class="id" type="var">v</span>) (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> ?<span class="id" type="var">v'</span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H3</span>: <a class="idref" href="checks_optimization.html#optimize_rtc_unop"><span class="id" type="inductive">optimize_rtc_unop</span></a> <a class="idref" href="language_basics.html#Unary_Minus"><span class="id" type="constructor">Unary_Minus</span></a> ?<span class="id" type="var">bound</span> (<a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a>) <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#unop_arithm_in_bound"><span class="id" type="lemma">unop_arithm_in_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span> <span class="id" type="var">H3</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab149"></a><h1 class="section">Checks Optimization for Literal</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Lemma</span> <a name="literal_checks_optimization_soundness"><span class="id" type="lemma">literal_checks_optimization_soundness</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">cks</span> <span class="id" type="var">l</span> <span class="id" type="var">v</span> <span class="id" type="var">lBound</span> <span class="id" type="var">cks'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#eval_literal_x"><span class="id" type="inductive">eval_literal_x</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_literal_x"><span class="id" type="inductive">optimize_literal_x</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#lBound"><span class="id" type="variable">lBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics_flagged.html#eval_literal_x"><span class="id" type="inductive">eval_literal_x</span></a> <a class="idref" href="checks_optimization_util.html#cks'"><span class="id" type="variable">cks'</span></a> <a class="idref" href="checks_optimization_util.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="checks_optimization_util.html#v"><span class="id" type="variable">v</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_overflow_check"><span class="id" type="inductive">optimize_overflow_check</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">clear</span> <span class="id" type="var">H</span>; <span class="id" type="var">smack</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#do_overflow_checks_reserve"><span class="id" type="lemma">do_overflow_checks_reserve</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <a class="idref" href="checks.html#Do_Overflow_Check"><span class="id" type="constructor">Do_Overflow_Check</span></a> <span class="id" type="var">H5</span> <span class="id" type="var">H1</span>); <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_literal_checks_optimization_soundness</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="semantics_flagged.html#eval_literal_x"><span class="id" type="inductive">eval_literal_x</span></a> <span class="id" type="var">_</span> ?<span class="id" type="var">c</span> <span class="id" type="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="checks_optimization.html#optimize_literal_x"><span class="id" type="inductive">optimize_literal_x</span></a> ?<span class="id" type="var">c</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="checks_optimization_util.html#literal_checks_optimization_soundness"><span class="id" type="lemma">literal_checks_optimization_soundness</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>); <span class="id" type="tactic">auto</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab150"></a><h1 class="section">optimize_exp_ex_cks_stripped</h1>

</div>
<div class="code">
<span class="id" type="keyword">Lemma</span> <a name="optimize_exp_ex_cks_stripped"><span class="id" type="lemma">optimize_exp_ex_cks_stripped</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">e</span> <span class="id" type="var">e'</span> <span class="id" type="var">st</span> <span class="id" type="var">cks</span> <span class="id" type="var">vBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_expression_x"><span class="id" type="inductive">optimize_expression_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_util.html#update_exterior_checks_exp"><span class="id" type="definition">update_exterior_checks_exp</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_expression_x"><span class="id" type="inductive">optimize_expression_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="language_util.html#update_exterior_checks_exp"><span class="id" type="definition">update_exterior_checks_exp</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> (<a class="idref" href="language_util.html#exp_exterior_checks"><span class="id" type="definition">exp_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">apply</span> (<a class="idref" href="checks_optimization_util.html#expression_x_ind"><span class="id" type="definition">expression_x_ind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">e</span>: <a class="idref" href="language_flagged.html#expression_x"><span class="id" type="inductive">expression_x</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">e'</span> : <a class="idref" href="language_flagged.html#expression_x"><span class="id" type="inductive">expression_x</span></a>) (<span class="id" type="var">st</span> : <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a>) (<span class="id" type="var">cks</span> : <a class="idref" href="checks.html#exterior_checks"><span class="id" type="definition">exterior_checks</span></a>) (<span class="id" type="var">vBound</span> : <a class="idref" href="values.html#bound"><span class="id" type="inductive">bound</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_expression_x"><span class="id" type="inductive">optimize_expression_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_util.html#update_exterior_checks_exp"><span class="id" type="definition">update_exterior_checks_exp</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_expression_x"><span class="id" type="inductive">optimize_expression_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="language_util.html#update_exterior_checks_exp"><span class="id" type="definition">update_exterior_checks_exp</span></a> <a class="idref" href="checks_optimization_util.html#e'"><span class="id" type="variable">e'</span></a> (<a class="idref" href="language_util.html#exp_exterior_checks"><span class="id" type="definition">exp_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#e"><span class="id" type="variable">e</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">fun</span> <span class="id" type="var">n</span>: <a class="idref" href="language_flagged.html#name_x"><span class="id" type="inductive">name_x</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">forall</span> (<span class="id" type="var">n'</span> : <a class="idref" href="language_flagged.html#name_x"><span class="id" type="inductive">name_x</span></a>) (<span class="id" type="var">st</span> : <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a>) (<span class="id" type="var">cks</span> : <a class="idref" href="checks.html#exterior_checks"><span class="id" type="definition">exterior_checks</span></a>) (<span class="id" type="var">vBound</span> : <a class="idref" href="values.html#bound"><span class="id" type="inductive">bound</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_util.html#update_exterior_checks_name"><span class="id" type="definition">update_exterior_checks_name</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="language_util.html#update_exterior_checks_name"><span class="id" type="definition">update_exterior_checks_name</span></a> <a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a> (<a class="idref" href="language_util.html#name_exterior_checks"><span class="id" type="definition">name_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;); <span class="id" type="tactic">intros</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_expression_x"><span class="id" type="inductive">optimize_expression_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
- <span class="id" type="tactic">constructor</span>; <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">H</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H3</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Binary_Operation_X"><span class="id" type="constructor">O_Binary_Operation_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">e1Bound</span> := <span class="id" type="var">e1Bound</span>) (<span class="id" type="var">e2Bound</span> := <span class="id" type="var">e2Bound</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Unary_Operation_X"><span class="id" type="constructor">O_Unary_Operation_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">eBound</span> := <span class="id" type="var">eBound</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Identifier_X"><span class="id" type="constructor">O_Identifier_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">t</span> := <span class="id" type="var">t</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Indexed_Component_X"><span class="id" type="constructor">O_Indexed_Component_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">xBound</span> := <span class="id" type="var">xBound</span>) (<span class="id" type="var">e'</span> := <span class="id" type="var">e'</span>) (<span class="id" type="var">u</span> := <span class="id" type="var">u</span>) (<span class="id" type="var">v</span> := <span class="id" type="var">v</span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="var">t</span> := <span class="id" type="var">t</span>) (<span class="id" type="var">u'</span> := <span class="id" type="var">u'</span>) (<span class="id" type="var">v'</span> := <span class="id" type="var">v'</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Selected_Component_X"><span class="id" type="constructor">O_Selected_Component_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">x'</span> := <span class="id" type="var">x'</span>) (<span class="id" type="var">xBound</span> := <span class="id" type="var">xBound</span>) (<span class="id" type="var">t</span> := <span class="id" type="var">t</span>); <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="optimize_name_ex_cks_stripped"><span class="id" type="lemma">optimize_name_ex_cks_stripped</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">n</span> <span class="id" type="var">n'</span> <span class="id" type="var">st</span> <span class="id" type="var">cks</span> <span class="id" type="var">vBound</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_util.html#update_exterior_checks_name"><span class="id" type="definition">update_exterior_checks_name</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="checks_optimization_util.html#cks"><span class="id" type="variable">cks</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#optimize_name_x"><span class="id" type="inductive">optimize_name_x</span></a> <a class="idref" href="checks_optimization_util.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="language_util.html#update_exterior_checks_name"><span class="id" type="definition">update_exterior_checks_name</span></a> <a class="idref" href="checks_optimization_util.html#n'"><span class="id" type="variable">n'</span></a> (<a class="idref" href="language_util.html#name_exterior_checks"><span class="id" type="definition">name_exterior_checks</span></a> <a class="idref" href="checks_optimization_util.html#n"><span class="id" type="variable">n</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="checks_optimization_util.html#vBound"><span class="id" type="variable">vBound</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">n</span>; <span class="id" type="tactic">intros</span>; <br/>
&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>; <span class="id" type="tactic">simpl</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Identifier_X"><span class="id" type="constructor">O_Identifier_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">t</span> := <span class="id" type="var">t</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Indexed_Component_X"><span class="id" type="constructor">O_Indexed_Component_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">xBound</span> := <span class="id" type="var">xBound</span>) (<span class="id" type="var">e'</span>:=<span class="id" type="var">e'</span>) (<span class="id" type="var">u</span>:=<span class="id" type="var">u</span>) (<span class="id" type="var">v</span>:=<span class="id" type="var">v</span>) (<span class="id" type="var">t</span>:=<span class="id" type="var">t</span>) (<span class="id" type="var">u'</span>:=<span class="id" type="var">u'</span>) (<span class="id" type="var">v'</span>:=<span class="id" type="var">v'</span>); <span class="id" type="tactic">auto</span>.<br/>
- <span class="id" type="tactic">apply</span> <a class="idref" href="checks_optimization.html#O_Selected_Component_X"><span class="id" type="constructor">O_Selected_Component_X</span></a> <span class="id" type="keyword">with</span> (<span class="id" type="var">x'</span>:=<span class="id" type="var">x'</span>) (<span class="id" type="var">xBound</span>:=<span class="id" type="var">xBound</span>) (<span class="id" type="var">t</span>:=<span class="id" type="var">t</span>); <span class="id" type="tactic">auto</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>