<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
<link href="coqdoc.css" rel="stylesheet" type="text/css"/>
<title>well_typed</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">well_typed</h1>

<div class="code">
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="semantics_flagged.html#"><span class="id" type="library">semantics_flagged</span></a>.<br/>
<span class="id" type="keyword">Require</span> <span class="id" type="keyword">Export</span> <a class="idref" href="checks_optimization.html#"><span class="id" type="library">checks_optimization</span></a>.<br/>

<br/>
<span class="id" type="keyword">Import</span> <span class="id" type="var">STACK</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab151"></a><h1 class="section">Helper Functions</h1>

<div class="paragraph"> </div>

<a name="lab152"></a><h2 class="section">the type of the expression</h2>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Definition</span> <a name="type_of_name_x"><span class="id" type="definition">type_of_name_x</span></a> (<span class="id" type="var">st</span>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a>) (<span class="id" type="var">n</span>: <a class="idref" href="language_flagged.html#name_x"><span class="id" type="inductive">name_x</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#n"><span class="id" type="variable">n</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Identifier_X"><span class="id" type="constructor">E_Identifier_X</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <span class="id" type="var">ast_num</span> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Indexed_Component_X"><span class="id" type="constructor">E_Indexed_Component_X</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <span class="id" type="var">ast_num</span> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Selected_Component_X"><span class="id" type="constructor">E_Selected_Component_X</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <span class="id" type="var">ast_num</span> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="type_of_exp_x"><span class="id" type="definition">type_of_exp_x</span></a> (<span class="id" type="var">st</span>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a>) (<span class="id" type="var">e</span>: <a class="idref" href="language_flagged.html#expression_x"><span class="id" type="inductive">expression_x</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Literal_X"><span class="id" type="constructor">E_Literal_X</span></a> <span class="id" type="var">_</span> (<a class="idref" href="language_basics.html#Integer_Literal"><span class="id" type="constructor">Integer_Literal</span></a> <span class="id" type="var">_</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Literal_X"><span class="id" type="constructor">E_Literal_X</span></a> <span class="id" type="var">_</span> (<a class="idref" href="language_basics.html#Boolean_Literal"><span class="id" type="constructor">Boolean_Literal</span></a> <span class="id" type="var">_</span>) <span class="id" type="var">_</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Name_X"><span class="id" type="constructor">E_Name_X</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">n</span> =&gt; <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <span class="id" type="var">ast_num</span> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Binary_Operation_X"><span class="id" type="constructor">E_Binary_Operation_X</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <span class="id" type="var">ast_num</span> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;| <a class="idref" href="language_flagged.html#E_Unary_Operation_X"><span class="id" type="constructor">E_Unary_Operation_X</span></a> <span class="id" type="var">ast_num</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">_</span> =&gt; <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <span class="id" type="var">ast_num</span> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="binop_type"><span class="id" type="definition">binop_type</span></a> (<span class="id" type="var">op</span>: <a class="idref" href="language_basics.html#binary_operator"><span class="id" type="inductive">binary_operator</span></a>) (<span class="id" type="var">t1</span> <span class="id" type="var">t2</span>: <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#op"><span class="id" type="variable">op</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Equal"><span class="id" type="constructor">Equal</span></a> | <a class="idref" href="language_basics.html#Not_Equal"><span class="id" type="constructor">Not_Equal</span></a> | <a class="idref" href="language_basics.html#Greater_Than"><span class="id" type="constructor">Greater_Than</span></a> | <a class="idref" href="language_basics.html#Greater_Than_Or_Equal"><span class="id" type="constructor">Greater_Than_Or_Equal</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Less_Than"><span class="id" type="constructor">Less_Than</span></a> | <a class="idref" href="language_basics.html#Less_Than_Or_Equal"><span class="id" type="constructor">Less_Than_Or_Equal</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t1"><span class="id" type="variable">t1</span></a>, <a class="idref" href="well_typed.html#t2"><span class="id" type="variable">t2</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#And"><span class="id" type="constructor">And</span></a> | <a class="idref" href="language_basics.html#Or"><span class="id" type="constructor">Or</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t1"><span class="id" type="variable">t1</span></a>, <a class="idref" href="well_typed.html#t2"><span class="id" type="variable">t2</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a>, <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Plus"><span class="id" type="constructor">Plus</span></a> | <a class="idref" href="language_basics.html#Minus"><span class="id" type="constructor">Minus</span></a> | <a class="idref" href="language_basics.html#Multiply"><span class="id" type="constructor">Multiply</span></a> | <a class="idref" href="language_basics.html#Divide"><span class="id" type="constructor">Divide</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t1"><span class="id" type="variable">t1</span></a>, <a class="idref" href="well_typed.html#t2"><span class="id" type="variable">t2</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span>, <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="unop_type"><span class="id" type="definition">unop_type</span></a> (<span class="id" type="var">op</span>: <a class="idref" href="language_basics.html#unary_operator"><span class="id" type="inductive">unary_operator</span></a>) (<span class="id" type="var">t</span>: <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a>): <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#option"><span class="id" type="inductive">option</span></a> <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#op"><span class="id" type="variable">op</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Unary_Minus"><span class="id" type="constructor">Unary_Minus</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a> | <a class="idref" href="language_basics.html#Subtype"><span class="id" type="constructor">Subtype</span></a> <span class="id" type="var">_</span> | <a class="idref" href="language_basics.html#Derived_Type"><span class="id" type="constructor">Derived_Type</span></a> <span class="id" type="var">_</span> | <a class="idref" href="language_basics.html#Integer_Type"><span class="id" type="constructor">Integer_Type</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Unary_Plus"><span class="id" type="constructor">Unary_Plus</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Not"><span class="id" type="constructor">Not</span></a> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Definition</span> <a name="type_match"><span class="id" type="definition">type_match</span></a> (<span class="id" type="var">t</span>: <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a>) (<span class="id" type="var">t'</span>: <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a> | <a class="idref" href="language_basics.html#Subtype"><span class="id" type="constructor">Subtype</span></a> <span class="id" type="var">_</span> | <a class="idref" href="language_basics.html#Derived_Type"><span class="id" type="constructor">Derived_Type</span></a> <span class="id" type="var">_</span> | <a class="idref" href="language_basics.html#Integer_Type"><span class="id" type="constructor">Integer_Type</span></a> <span class="id" type="var">_</span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a> | <a class="idref" href="language_basics.html#Subtype"><span class="id" type="constructor">Subtype</span></a> <span class="id" type="var">_</span> | <a class="idref" href="language_basics.html#Derived_Type"><span class="id" type="constructor">Derived_Type</span></a> <span class="id" type="var">_</span> | <a class="idref" href="language_basics.html#Integer_Type"><span class="id" type="constructor">Integer_Type</span></a> <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <span class="id" type="var">t1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <span class="id" type="var">t2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <span class="id" type="var">t1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">match</span> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <span class="id" type="var">t2</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" type="var">_</span> =&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">end</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="type_match_ref"><span class="id" type="lemma">type_match_ref</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> <span class="id" type="var">t'</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="well_typed.html#type_match"><span class="id" type="definition">type_match</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="well_typed.html#type_match"><span class="id" type="definition">type_match</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">t</span>, <span class="id" type="var">t'</span>; <span class="id" type="var">smack</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">t</span> <span class="id" type="var">t0</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b1</span>;<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">t0</span> <span class="id" type="var">t</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b2</span>;<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b1</span>, <span class="id" type="var">b2</span>; <span class="id" type="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> ?<span class="id" type="var">x</span> ?<span class="id" type="var">y</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat_eq"><span class="id" type="definition">beq_nat_eq</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>) <span class="id" type="keyword">in</span> *<br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>;<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <span class="id" type="var">_</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> ?<span class="id" type="var">x</span> ?<span class="id" type="var">x</span> |- <span class="id" type="var">_</span>] =&gt; <span class="id" type="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat_refl"><span class="id" type="lemma">beq_nat_refl</span></a> <span class="id" type="keyword">in</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab153"></a><h1 class="section">Well-Typed Expression</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="language_flagged.html#expression_x"><span class="id" type="inductive">expression_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Literal_Int_X"><span class="id" type="constructor">WT_Literal_Int_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">v</span> <span class="id" type="var">in_cks</span> <span class="id" type="var">ex_cks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Literal_X"><span class="id" type="constructor">E_Literal_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> (<a class="idref" href="language_basics.html#Integer_Literal"><span class="id" type="constructor">Integer_Literal</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="well_typed.html#in_cks"><span class="id" type="variable">in_cks</span></a> <a class="idref" href="well_typed.html#ex_cks"><span class="id" type="variable">ex_cks</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Literal_Bool_X"><span class="id" type="constructor">WT_Literal_Bool_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">v</span> <span class="id" type="var">in_cks</span> <span class="id" type="var">ex_cks</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Literal_X"><span class="id" type="constructor">E_Literal_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> (<a class="idref" href="language_basics.html#Boolean_Literal"><span class="id" type="constructor">Boolean_Literal</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>) <a class="idref" href="well_typed.html#in_cks"><span class="id" type="variable">in_cks</span></a> <a class="idref" href="well_typed.html#ex_cks"><span class="id" type="variable">ex_cks</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Name_X"><span class="id" type="constructor">WT_Name_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#name_astnum_x"><span class="id" type="definition">name_astnum_x</span></a> <a class="idref" href="well_typed.html#n"><span class="id" type="variable">n</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#n"><span class="id" type="variable">n</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Name_X"><span class="id" type="constructor">E_Name_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#n"><span class="id" type="variable">n</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Binary_Exp_X"><span class="id" type="constructor">WT_Binary_Exp_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span> <span class="id" type="var">e1</span> <span class="id" type="var">e2</span> <span class="id" type="var">in_cks</span> <span class="id" type="var">ex_cks</span> <span class="id" type="var">t</span> <span class="id" type="var">t1</span> <span class="id" type="var">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e1"><span class="id" type="variable">e1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e2"><span class="id" type="variable">e2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#type_of_exp_x"><span class="id" type="definition">type_of_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t1"><span class="id" type="variable">t1</span></a> -&gt; <a class="idref" href="well_typed.html#type_of_exp_x"><span class="id" type="definition">type_of_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t2"><span class="id" type="variable">t2</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#binop_type"><span class="id" type="definition">binop_type</span></a> <a class="idref" href="well_typed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="well_typed.html#t1"><span class="id" type="variable">t1</span></a> <a class="idref" href="well_typed.html#t2"><span class="id" type="variable">t2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Binary_Operation_X"><span class="id" type="constructor">E_Binary_Operation_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="well_typed.html#e1"><span class="id" type="variable">e1</span></a> <a class="idref" href="well_typed.html#e2"><span class="id" type="variable">e2</span></a> <a class="idref" href="well_typed.html#in_cks"><span class="id" type="variable">in_cks</span></a> <a class="idref" href="well_typed.html#ex_cks"><span class="id" type="variable">ex_cks</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Unary_Exp_X"><span class="id" type="constructor">WT_Unary_Exp_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">op</span> <span class="id" type="var">e</span> <span class="id" type="var">in_cks</span> <span class="id" type="var">ex_cks</span> <span class="id" type="var">t</span> <span class="id" type="var">t'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#type_of_exp_x"><span class="id" type="definition">type_of_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#unop_type"><span class="id" type="definition">unop_type</span></a> <a class="idref" href="well_typed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Unary_Operation_X"><span class="id" type="constructor">E_Unary_Operation_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#op"><span class="id" type="variable">op</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="well_typed.html#in_cks"><span class="id" type="variable">in_cks</span></a> <a class="idref" href="well_typed.html#ex_cks"><span class="id" type="variable">ex_cks</span></a>)<br/>
<br/>
<span class="id" type="keyword">with</span> <a name="well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="language_flagged.html#name_x"><span class="id" type="inductive">name_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Identifier_X"><span class="id" type="constructor">WT_Identifier_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">x</span> <span class="id" type="var">ex_cks</span> <span class="id" type="var">md</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_var_x"><span class="id" type="definition">fetch_var_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="well_typed.html#md"><span class="id" type="variable">md</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Identifier_X"><span class="id" type="constructor">E_Identifier_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#ex_cks"><span class="id" type="variable">ex_cks</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Indexed_Component_X"><span class="id" type="constructor">WT_Indexed_Component_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">ex_cks</span> <span class="id" type="var">t</span> <span class="id" type="var">t'</span> <span class="id" type="var">a_ast_num</span> <span class="id" type="var">tn</span> <span class="id" type="var">tm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#name_astnum_x"><span class="id" type="definition">name_astnum_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_type_x"><span class="id" type="definition">fetch_type_x</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="language_flagged.html#Array_Type_Declaration_X"><span class="id" type="constructor">Array_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#a_ast_num"><span class="id" type="variable">a_ast_num</span></a> <a class="idref" href="well_typed.html#tn"><span class="id" type="variable">tn</span></a> <a class="idref" href="well_typed.html#tm"><span class="id" type="variable">tm</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Indexed_Component_X"><span class="id" type="constructor">E_Indexed_Component_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="well_typed.html#ex_cks"><span class="id" type="variable">ex_cks</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Selected_Component_X"><span class="id" type="constructor">WT_Selected_Component_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">x</span> <span class="id" type="var">f</span> <span class="id" type="var">ex_cks</span> <span class="id" type="var">t</span> <span class="id" type="var">t'</span> <span class="id" type="var">r_ast_num</span> <span class="id" type="var">tn</span> <span class="id" type="var">fields</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#name_astnum_x"><span class="id" type="definition">name_astnum_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_type_x"><span class="id" type="definition">fetch_type_x</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="language_flagged.html#Record_Type_Declaration_X"><span class="id" type="constructor">Record_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#r_ast_num"><span class="id" type="variable">r_ast_num</span></a> <a class="idref" href="well_typed.html#tn"><span class="id" type="variable">tn</span></a> <a class="idref" href="well_typed.html#fields"><span class="id" type="variable">fields</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#record_field_type"><span class="id" type="definition">record_field_type</span></a> <a class="idref" href="well_typed.html#fields"><span class="id" type="variable">fields</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#E_Selected_Component_X"><span class="id" type="constructor">E_Selected_Component_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="well_typed.html#ex_cks"><span class="id" type="variable">ex_cks</span></a>).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_exps_x"><span class="id" type="inductive">well_typed_exps_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="language_flagged.html#expression_x"><span class="id" type="inductive">expression_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Exps_Nil_X"><span class="id" type="constructor">WT_Exps_Nil_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exps_x"><span class="id" type="inductive">well_typed_exps_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a name="WT_Exps_X"><span class="id" type="constructor">WT_Exps_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">e</span> <span class="id" type="var">le</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a>  <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a>  -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exps_x"><span class="id" type="inductive">well_typed_exps_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#le"><span class="id" type="variable">le</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exps_x"><span class="id" type="inductive">well_typed_exps_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="well_typed.html#le"><span class="id" type="variable">le</span></a>).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_params_x"><span class="id" type="inductive">well_typed_params_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="language_flagged.html#parameter_specification_x"><span class="id" type="record">parameter_specification_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Params_Nil_X"><span class="id" type="constructor">WT_Params_Nil_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_params_x"><span class="id" type="inductive">well_typed_params_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a name="WT_Params_X"><span class="id" type="constructor">WT_Params_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">m</span> <span class="id" type="var">x</span> <span class="id" type="var">lx</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_var_x"><span class="id" type="definition">fetch_var_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a>.(<a class="idref" href="language_flagged.html#parameter_name_x"><span class="id" type="projection">parameter_name_x</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="well_typed.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a>.(<a class="idref" href="language_flagged.html#parameter_subtype_mark_x"><span class="id" type="projection">parameter_subtype_mark_x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_params_x"><span class="id" type="inductive">well_typed_params_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#lx"><span class="id" type="variable">lx</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_params_x"><span class="id" type="inductive">well_typed_params_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="well_typed.html#lx"><span class="id" type="variable">lx</span></a>).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_args_x"><span class="id" type="inductive">well_typed_args_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="language_flagged.html#expression_x"><span class="id" type="inductive">expression_x</span></a> -&gt; <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#list"><span class="id" type="inductive">list</span></a> <a class="idref" href="language_flagged.html#parameter_specification_x"><span class="id" type="record">parameter_specification_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Args_Nil_X"><span class="id" type="constructor">WT_Args_Nil_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_args_x"><span class="id" type="inductive">well_typed_args_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a name="WT_Args_X"><span class="id" type="constructor">WT_Args_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">e</span> <span class="id" type="var">le</span> <span class="id" type="var">x</span> <span class="id" type="var">lx</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#expression_astnum_x"><span class="id" type="definition">expression_astnum_x</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#type_match"><span class="id" type="definition">type_match</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a>.(<a class="idref" href="language_flagged.html#parameter_subtype_mark_x"><span class="id" type="projection">parameter_subtype_mark_x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_args_x"><span class="id" type="inductive">well_typed_args_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#le"><span class="id" type="variable">le</span></a> <a class="idref" href="well_typed.html#lx"><span class="id" type="variable">lx</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_args_x"><span class="id" type="inductive">well_typed_args_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="well_typed.html#le"><span class="id" type="variable">le</span></a>) (<a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="well_typed.html#lx"><span class="id" type="variable">lx</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab154"></a><h1 class="section">Well-Typed Statement</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="language_flagged.html#statement_x"><span class="id" type="inductive">statement_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Null_X"><span class="id" type="constructor">WT_Null_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="language_flagged.html#S_Null_X"><span class="id" type="constructor">S_Null_X</span></a><br/>
&nbsp;&nbsp;| <a name="WT_Assignment_X"><span class="id" type="constructor">WT_Assignment_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">x</span> <span class="id" type="var">e</span> <span class="id" type="var">t</span> <span class="id" type="var">t'</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_name_x"><span class="id" type="inductive">well_typed_name_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#expression_astnum_x"><span class="id" type="definition">expression_astnum_x</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#name_astnum_x"><span class="id" type="definition">name_astnum_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#type_match"><span class="id" type="definition">type_match</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#t'"><span class="id" type="variable">t'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#S_Assignment_X"><span class="id" type="constructor">S_Assignment_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_If_X"><span class="id" type="constructor">WT_If_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">e</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#c1"><span class="id" type="variable">c1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#c2"><span class="id" type="variable">c2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#S_If_X"><span class="id" type="constructor">S_If_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="well_typed.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="well_typed.html#c2"><span class="id" type="variable">c2</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_While_X"><span class="id" type="constructor">WT_While_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">e</span> <span class="id" type="var">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#c"><span class="id" type="variable">c</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#S_While_Loop_X"><span class="id" type="constructor">S_While_Loop_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> <a class="idref" href="well_typed.html#c"><span class="id" type="variable">c</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Procedure_Call_X"><span class="id" type="constructor">WT_Procedure_Call_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">f_ast_num</span> <span class="id" type="var">f</span> <span class="id" type="var">args</span> <span class="id" type="var">n</span> <span class="id" type="var">fb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exps_x"><span class="id" type="inductive">well_typed_exps_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#args"><span class="id" type="variable">args</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_proc_x"><span class="id" type="definition">fetch_proc_x</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="well_typed.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="well_typed.html#fb"><span class="id" type="variable">fb</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_args_x"><span class="id" type="inductive">well_typed_args_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#args"><span class="id" type="variable">args</span></a> (<a class="idref" href="language_flagged.html#procedure_parameter_profile_x"><span class="id" type="definition">procedure_parameter_profile_x</span></a> <a class="idref" href="well_typed.html#fb"><span class="id" type="variable">fb</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#S_Procedure_Call_X"><span class="id" type="constructor">S_Procedure_Call_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#f_ast_num"><span class="id" type="variable">f_ast_num</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="well_typed.html#args"><span class="id" type="variable">args</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Sequence_X"><span class="id" type="constructor">WT_Sequence_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">c1</span> <span class="id" type="var">c2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#c1"><span class="id" type="variable">c1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#c2"><span class="id" type="variable">c2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#S_Sequence_X"><span class="id" type="constructor">S_Sequence_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#c1"><span class="id" type="variable">c1</span></a> <a class="idref" href="well_typed.html#c2"><span class="id" type="variable">c2</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab155"></a><h1 class="section">Well-Typed Declaration</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_type_decl_x"><span class="id" type="inductive">well_typed_type_decl_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="language_flagged.html#type_declaration_x"><span class="id" type="inductive">type_declaration_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Subtype_Decl_X"><span class="id" type="constructor">WT_Subtype_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">tid</span> <span class="id" type="var">t</span> <span class="id" type="var">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_type_decl_x"><span class="id" type="inductive">well_typed_type_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#Subtype_Declaration_X"><span class="id" type="constructor">Subtype_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#tid"><span class="id" type="variable">tid</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#r"><span class="id" type="variable">r</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Derived_Type_Decl_X"><span class="id" type="constructor">WT_Derived_Type_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">tid</span> <span class="id" type="var">t</span> <span class="id" type="var">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_type_decl_x"><span class="id" type="inductive">well_typed_type_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#Derived_Type_Declaration_X"><span class="id" type="constructor">Derived_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#tid"><span class="id" type="variable">tid</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#r"><span class="id" type="variable">r</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Int_Type_Decl_X"><span class="id" type="constructor">WT_Int_Type_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">tid</span> <span class="id" type="var">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_type_decl_x"><span class="id" type="inductive">well_typed_type_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#Integer_Type_Declaration_X"><span class="id" type="constructor">Integer_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#tid"><span class="id" type="variable">tid</span></a> <a class="idref" href="well_typed.html#r"><span class="id" type="variable">r</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Array_Type_Decl_X"><span class="id" type="constructor">WT_Array_Type_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">tid</span> <span class="id" type="var">tm</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_type_decl_x"><span class="id" type="inductive">well_typed_type_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#Array_Type_Declaration_X"><span class="id" type="constructor">Array_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#tid"><span class="id" type="variable">tid</span></a> <a class="idref" href="well_typed.html#tm"><span class="id" type="variable">tm</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Record_Type_Decl_X"><span class="id" type="constructor">WT_Record_Type_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">tid</span> <span class="id" type="var">fs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_type_decl_x"><span class="id" type="inductive">well_typed_type_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#Record_Type_Declaration_X"><span class="id" type="constructor">Record_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#tid"><span class="id" type="variable">tid</span></a> <a class="idref" href="well_typed.html#fs"><span class="id" type="variable">fs</span></a>).<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="language_flagged.html#declaration_x"><span class="id" type="inductive">declaration_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Null_Decl_X"><span class="id" type="constructor">WT_Null_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="language_flagged.html#D_Null_Declaration_X"><span class="id" type="constructor">D_Null_Declaration_X</span></a><br/>
&nbsp;&nbsp;| <a name="WT_Type_Decl_X"><span class="id" type="constructor">WT_Type_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">type_decl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_type_decl_x"><span class="id" type="inductive">well_typed_type_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#type_decl"><span class="id" type="variable">type_decl</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#D_Type_Declaration_X"><span class="id" type="constructor">D_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#type_decl"><span class="id" type="variable">type_decl</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Object_Decl_None_Init_X"><span class="id" type="constructor">WT_Object_Decl_None_Init_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">d</span> <span class="id" type="var">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language_flagged.html#initialization_expression_x"><span class="id" type="projection">initialization_expression_x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#None"><span class="id" type="constructor">None</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_var_x"><span class="id" type="definition">fetch_var_x</span></a> <a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language_flagged.html#object_name_x"><span class="id" type="projection">object_name_x</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="well_typed.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language_flagged.html#object_nominal_subtype_x"><span class="id" type="projection">object_nominal_subtype_x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#D_Object_Declaration_X"><span class="id" type="constructor">D_Object_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Object_Decl_X"><span class="id" type="constructor">WT_Object_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">d</span> <span class="id" type="var">e</span> <span class="id" type="var">m</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language_flagged.html#initialization_expression_x"><span class="id" type="projection">initialization_expression_x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_var_x"><span class="id" type="definition">fetch_var_x</span></a> <a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language_flagged.html#object_name_x"><span class="id" type="projection">object_name_x</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="well_typed.html#m"><span class="id" type="variable">m</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language_flagged.html#object_nominal_subtype_x"><span class="id" type="projection">object_nominal_subtype_x</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_exp_x"><span class="id" type="inductive">well_typed_exp_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_exp_type_x"><span class="id" type="definition">fetch_exp_type_x</span></a> (<a class="idref" href="language_flagged.html#expression_astnum_x"><span class="id" type="definition">expression_astnum_x</span></a> <a class="idref" href="well_typed.html#e"><span class="id" type="variable">e</span></a>) <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#type_match"><span class="id" type="definition">type_match</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>.(<a class="idref" href="language_flagged.html#object_nominal_subtype_x"><span class="id" type="projection">object_nominal_subtype_x</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#D_Object_Declaration_X"><span class="id" type="constructor">D_Object_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#d"><span class="id" type="variable">d</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Procedure_Body_X"><span class="id" type="constructor">WT_Procedure_Body_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">fb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_proc_body_x"><span class="id" type="inductive">well_typed_proc_body_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#fb"><span class="id" type="variable">fb</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#D_Procedure_Body_X"><span class="id" type="constructor">D_Procedure_Body_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#fb"><span class="id" type="variable">fb</span></a>)<br/>
&nbsp;&nbsp;| <a name="WT_Seq_Decl_X"><span class="id" type="constructor">WT_Seq_Decl_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">d1</span> <span class="id" type="var">d2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#d1"><span class="id" type="variable">d1</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#d2"><span class="id" type="variable">d2</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#D_Seq_Declaration_X"><span class="id" type="constructor">D_Seq_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#d1"><span class="id" type="variable">d1</span></a> <a class="idref" href="well_typed.html#d2"><span class="id" type="variable">d2</span></a>)<br/>
<br/>
<span class="id" type="keyword">with</span> <a name="well_typed_proc_body_x"><span class="id" type="inductive">well_typed_proc_body_x</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="language_flagged.html#procedure_body_x"><span class="id" type="inductive">procedure_body_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="WT_Proc_Body_X"><span class="id" type="constructor">WT_Proc_Body_X</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_params_x"><span class="id" type="inductive">well_typed_params_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#procedure_parameter_profile_x"><span class="id" type="definition">procedure_parameter_profile_x</span></a> <a class="idref" href="well_typed.html#p"><span class="id" type="variable">p</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_decl_x"><span class="id" type="inductive">well_typed_decl_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#procedure_declarative_part_x"><span class="id" type="definition">procedure_declarative_part_x</span></a> <a class="idref" href="well_typed.html#p"><span class="id" type="variable">p</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_statement_x"><span class="id" type="inductive">well_typed_statement_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_flagged.html#procedure_statements_x"><span class="id" type="definition">procedure_statements_x</span></a> <a class="idref" href="well_typed.html#p"><span class="id" type="variable">p</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_proc_body_x"><span class="id" type="inductive">well_typed_proc_body_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#p"><span class="id" type="variable">p</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab156"></a><h1 class="section">well typed symbol table</h1>

<div class="paragraph"> </div>


<div class="paragraph"> </div>

<ul class="doclist">
<li> Subtype_Declaration_X astnum typenum type range_x: "range_x" should be in the range of "type"

</li>
<li> Derived_Type_Declaration_X astnum typenum type range_x: "range_x" should be in the range of "type"

</li>
<li> Integer_Type_Declaration_X astnum typenum range_x: "range_x" should be in the range of "int32"

</li>
</ul>
  here in order to make the proof feasible, it's enough to have the subtype range within "int32"

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_subtype_declaration"><span class="id" type="inductive">well_typed_subtype_declaration</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TSubtypeDecl"><span class="id" type="constructor">TSubtypeDecl</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>, <br/>
&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#extract_subtype_range_x"><span class="id" type="inductive">extract_subtype_range_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> (<a class="idref" href="language_flagged.html#Range_X"><span class="id" type="constructor">Range_X</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="checks_optimization.html#sub_bound"><span class="id" type="inductive">sub_bound</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="values.html#int32_bound"><span class="id" type="definition">int32_bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_subtype_declaration"><span class="id" type="inductive">well_typed_subtype_declaration</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_proc_declaration"><span class="id" type="inductive">well_typed_proc_declaration</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TProcDecl"><span class="id" type="constructor">TProcDecl</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">f</span> <span class="id" type="var">n</span> <span class="id" type="var">p</span>, <a class="idref" href="symboltable.html#fetch_proc_x"><span class="id" type="definition">fetch_proc_x</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="well_typed.html#n"><span class="id" type="variable">n</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="well_typed.html#p"><span class="id" type="variable">p</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_proc_body_x"><span class="id" type="inductive">well_typed_proc_body_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#p"><span class="id" type="variable">p</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_proc_declaration"><span class="id" type="inductive">well_typed_proc_declaration</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_symbol_table"><span class="id" type="inductive">well_typed_symbol_table</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TSymbolTable"><span class="id" type="constructor">TSymbolTable</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_subtype_declaration"><span class="id" type="inductive">well_typed_subtype_declaration</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_proc_declaration"><span class="id" type="inductive">well_typed_proc_declaration</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_symbol_table"><span class="id" type="inductive">well_typed_symbol_table</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab157"></a><h1 class="section">Well-Typed Value</h1>

</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_value"><span class="id" type="inductive">well_typed_value</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="language_basics.html#type"><span class="id" type="inductive">type</span></a> -&gt; <a class="idref" href="values.html#value"><span class="id" type="inductive">value</span></a> -&gt; <span class="id" type="keyword">Prop</span> := <br/>
&nbsp;&nbsp;| <a name="TV_Undefined"><span class="id" type="constructor">TV_Undefined</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="values.html#Undefined"><span class="id" type="constructor">Undefined</span></a> <br/>
&nbsp;&nbsp;| <a name="TV_Bool"><span class="id" type="constructor">TV_Bool</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'\/'_x"><span class="id" type="notation">\/</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#false"><span class="id" type="constructor">false</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="language_basics.html#Boolean"><span class="id" type="constructor">Boolean</span></a> (<a class="idref" href="values.html#Bool"><span class="id" type="constructor">Bool</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a name="TV_Int"><span class="id" type="constructor">TV_Int</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> <a class="idref" href="values.html#int32_bound"><span class="id" type="definition">int32_bound</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="language_basics.html#Integer"><span class="id" type="constructor">Integer</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a name="TV_Subtype"><span class="id" type="constructor">TV_Subtype</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#extract_subtype_range_x"><span class="id" type="inductive">extract_subtype_range_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Subtype"><span class="id" type="constructor">Subtype</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="language_flagged.html#Range_X"><span class="id" type="constructor">Range_X</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Subtype"><span class="id" type="constructor">Subtype</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a name="TV_Derived_Type"><span class="id" type="constructor">TV_Derived_Type</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#extract_subtype_range_x"><span class="id" type="inductive">extract_subtype_range_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Derived_Type"><span class="id" type="constructor">Derived_Type</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="language_flagged.html#Range_X"><span class="id" type="constructor">Range_X</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Derived_Type"><span class="id" type="constructor">Derived_Type</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a name="TV_Integer_Type"><span class="id" type="constructor">TV_Integer_Type</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">t</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#extract_subtype_range_x"><span class="id" type="inductive">extract_subtype_range_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Integer_Type"><span class="id" type="constructor">Integer_Type</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="language_flagged.html#Range_X"><span class="id" type="constructor">Range_X</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="values.html#in_bound"><span class="id" type="inductive">in_bound</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> (<a class="idref" href="values.html#Interval"><span class="id" type="constructor">Interval</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#true"><span class="id" type="constructor">true</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Integer_Type"><span class="id" type="constructor">Integer_Type</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>)<br/>
&nbsp;&nbsp;| <a name="TV_Array_Type"><span class="id" type="constructor">TV_Array_Type</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">t</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">tid</span> <span class="id" type="var">tm</span> <span class="id" type="var">typ</span> <span class="id" type="var">a</span> <span class="id" type="var">l</span> <span class="id" type="var">u</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_type_x"><span class="id" type="definition">fetch_type_x</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="language_flagged.html#Array_Type_Declaration_X"><span class="id" type="constructor">Array_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#tid"><span class="id" type="variable">tid</span></a> <a class="idref" href="well_typed.html#tm"><span class="id" type="variable">tm</span></a> <a class="idref" href="well_typed.html#typ"><span class="id" type="variable">typ</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#extract_array_index_range_x"><span class="id" type="inductive">extract_array_index_range_x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> (<a class="idref" href="language_flagged.html#Range_X"><span class="id" type="constructor">Range_X</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">i</span> <span class="id" type="var">v</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#array_select"><span class="id" type="definition">array_select</span></a> <a class="idref" href="well_typed.html#a"><span class="id" type="variable">a</span></a> <a class="idref" href="well_typed.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="semantics.html#do_range_check"><span class="id" type="inductive">do_range_check</span></a> <a class="idref" href="well_typed.html#i"><span class="id" type="variable">i</span></a> <a class="idref" href="well_typed.html#l"><span class="id" type="variable">l</span></a> <a class="idref" href="well_typed.html#u"><span class="id" type="variable">u</span></a> (<a class="idref" href="values.html#Normal"><span class="id" type="constructor">Normal</span></a> (<a class="idref" href="values.html#Int"><span class="id" type="constructor">Int</span></a> <a class="idref" href="well_typed.html#i"><span class="id" type="variable">i</span></a>)) <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#typ"><span class="id" type="variable">typ</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Array_Type"><span class="id" type="constructor">Array_Type</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="values.html#ArrayV"><span class="id" type="constructor">ArrayV</span></a> <a class="idref" href="well_typed.html#a"><span class="id" type="variable">a</span></a>)<br/>
&nbsp;&nbsp;| <a name="TV_Record_Type"><span class="id" type="constructor">TV_Record_Type</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">t</span> <span class="id" type="var">ast_num</span> <span class="id" type="var">tid</span> <span class="id" type="var">fields</span> <span class="id" type="var">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="symboltable.html#fetch_type_x"><span class="id" type="definition">fetch_type_x</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> (<a class="idref" href="language_flagged.html#Record_Type_Declaration_X"><span class="id" type="constructor">Record_Type_Declaration_X</span></a> <a class="idref" href="well_typed.html#ast_num"><span class="id" type="variable">ast_num</span></a> <a class="idref" href="well_typed.html#tid"><span class="id" type="variable">tid</span></a> <a class="idref" href="well_typed.html#fields"><span class="id" type="variable">fields</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">f</span> <span class="id" type="var">v</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#record_select"><span class="id" type="definition">record_select</span></a> <a class="idref" href="well_typed.html#r"><span class="id" type="variable">r</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibTactics.html#:type_scope:'exists'_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">typ</span><a class="idref" href="LibTactics.html#:type_scope:'exists'_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="LibTactics.html#:type_scope:'exists'_x_','_x"><span class="id" type="notation">(</span></a><a class="idref" href="checks_optimization.html#record_field_type"><span class="id" type="definition">record_field_type</span></a> <a class="idref" href="well_typed.html#fields"><span class="id" type="variable">fields</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <span class="id" type="var">typ</span> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <span class="id" type="var">typ</span> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="LibTactics.html#:type_scope:'exists'_x_','_x"><span class="id" type="notation">)</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="language_basics.html#Record_Type"><span class="id" type="constructor">Record_Type</span></a> <a class="idref" href="well_typed.html#t"><span class="id" type="variable">t</span></a>) (<a class="idref" href="values.html#RecordV"><span class="id" type="constructor">RecordV</span></a> <a class="idref" href="well_typed.html#r"><span class="id" type="variable">r</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a name="lab158"></a><h1 class="section">Well-Typed Store</h1>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="well_typed_store"><span class="id" type="inductive">well_typed_store</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="semantics.html#STACK.store"><span class="id" type="definition">store</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TStore"><span class="id" type="constructor">TStore</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#STACK.fetches"><span class="id" type="definition">fetches</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibTactics.html#:type_scope:'exists'_x_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">m</span> <span class="id" type="var">t</span><a class="idref" href="LibTactics.html#:type_scope:'exists'_x_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="symboltable.html#fetch_var_x"><span class="id" type="definition">fetch_var_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <span class="id" type="var">t</span> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_store"><span class="id" type="inductive">well_typed_store</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_value_in_store"><span class="id" type="inductive">well_typed_value_in_store</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="semantics.html#STACK.store"><span class="id" type="definition">store</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TVStore_Nil"><span class="id" type="constructor">TVStore_Nil</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_store"><span class="id" type="inductive">well_typed_value_in_store</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a><br/>
&nbsp;&nbsp;| <a name="TVStore"><span class="id" type="constructor">TVStore</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="LibTactics.html#:type_scope:'exists'_x_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">m</span> <span class="id" type="var">t</span><a class="idref" href="LibTactics.html#:type_scope:'exists'_x_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="symboltable.html#fetch_var_x"><span class="id" type="definition">fetch_var_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <span class="id" type="var">t</span> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_store"><span class="id" type="inductive">well_typed_value_in_store</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_store"><span class="id" type="inductive">well_typed_value_in_store</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="well_typed_store_infer"><span class="id" type="lemma">well_typed_store_infer</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_store"><span class="id" type="inductive">well_typed_value_in_store</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_store"><span class="id" type="inductive">well_typed_store</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span>; <span class="id" type="var">revert</span> <span class="id" type="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">intros</span>.<br/>
- <span class="id" type="tactic">constructor</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs</span> <span class="id" type="var">_</span> <span class="id" type="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat"><span class="id" type="definition">beq_nat</span></a> <span class="id" type="var">x0</span> <span class="id" type="var">x</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">b</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">rewrite</span> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Arith.EqNat.html#beq_nat_eq"><span class="id" type="definition">beq_nat_eq</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">Heqb</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">exists</span> <span class="id" type="var">x1</span> <span class="id" type="var">x2</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">IHs</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_well_typed_store_infer</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="well_typed.html#well_typed_value_in_store"><span class="id" type="inductive">well_typed_value_in_store</span></a> ?<span class="id" type="var">st</span> ?<span class="id" type="var">s</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="well_typed.html#well_typed_store_infer"><span class="id" type="lemma">well_typed_store_infer</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a name="lab159"></a><h1 class="section">Well-Typed Stack</h1>
 for any variable in stack, its value should be in the domain of its type;
    for any procedure declaration in symbol table, the procedure is well-typed;
 
</div>
<div class="code">

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_stack"><span class="id" type="inductive">well_typed_stack</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="semantics.html#STACK.stack"><span class="id" type="definition">stack</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TStack"><span class="id" type="constructor">TStack</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" type="keyword">forall</span> <span class="id" type="var">x</span> <span class="id" type="var">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="semantics.html#STACK.fetchG"><span class="id" type="definition">fetchG</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="LibTactics.html#:type_scope:'exists'_x_x_','_x"><span class="id" type="notation">exists</span></a> <span class="id" type="var">m</span> <span class="id" type="var">t</span><a class="idref" href="LibTactics.html#:type_scope:'exists'_x_x_','_x"><span class="id" type="notation">,</span></a> <a class="idref" href="symboltable.html#fetch_var_x"><span class="id" type="definition">fetch_var_x</span></a> <a class="idref" href="well_typed.html#x"><span class="id" type="variable">x</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'='_x"><span class="id" type="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#Some"><span class="id" type="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">(</span></a><span class="id" type="var">m</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">,</span></a> <span class="id" type="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:core_scope:'('_x_','_x_','_'..'_','_x_')'"><span class="id" type="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Logic.html#:type_scope:x_'/\'_x"><span class="id" type="notation">/\</span></a> <a class="idref" href="well_typed.html#well_typed_value"><span class="id" type="inductive">well_typed_value</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <span class="id" type="var">t</span> <a class="idref" href="well_typed.html#v"><span class="id" type="variable">v</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_stack"><span class="id" type="inductive">well_typed_stack</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="id" type="keyword">Inductive</span> <a name="well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="semantics.html#STACK.stack"><span class="id" type="definition">stack</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TVStack_Nil"><span class="id" type="constructor">TVStack_Nil</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#nil"><span class="id" type="constructor">nil</span></a> <br/>
&nbsp;&nbsp;| <a name="TVStack"><span class="id" type="constructor">TVStack</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span> <span class="id" type="var">f</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_store"><span class="id" type="inductive">well_typed_value_in_store</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#snd"><span class="id" type="definition">snd</span></a> <a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> (<a class="idref" href="well_typed.html#f"><span class="id" type="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/distrib/8.4pl4/stdlib/Coq.Init.Datatypes.html#:list_scope:x_'::'_x"><span class="id" type="notation">::</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a>).<br/>

<br/>
<span class="id" type="keyword">Lemma</span> <a name="well_typed_stack_infer"><span class="id" type="lemma">well_typed_stack_infer</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_stack"><span class="id" type="inductive">well_typed_stack</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a>.<br/>
<span class="id" type="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">intros</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span>; <span class="id" type="var">revert</span> <span class="id" type="var">st</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">induction</span> <span class="id" type="var">s</span>; <span class="id" type="tactic">intros</span>.<br/>
- <span class="id" type="tactic">constructor</span>; <span class="id" type="var">smack</span>.<br/>
- <span class="id" type="tactic">inversion</span> <span class="id" type="var">H</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<span class="id" type="var">IHs</span> <span class="id" type="var">_</span> <span class="id" type="var">H4</span>).<br/>
&nbsp;&nbsp;<span class="id" type="tactic">constructor</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;<span class="id" type="var">remember</span> (<a class="idref" href="semantics.html#STACK.fetch"><span class="id" type="definition">fetch</span></a> <span class="id" type="var">x</span> <span class="id" type="var">a</span>) <span class="id" type="keyword">as</span> <span class="id" type="var">y</span>.<br/>
&nbsp;&nbsp;<span class="id" type="tactic">destruct</span> <span class="id" type="var">y</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">H0</span>; <span class="id" type="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">apply_well_typed_store_infer</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">inversion</span> <span class="id" type="var">HZ</span>; <span class="id" type="var">smack</span>.<br/>
&nbsp;&nbsp;+ <span class="id" type="tactic">inversion</span> <span class="id" type="var">IHs</span>; <span class="id" type="var">smack</span>.<br/>
<span class="id" type="keyword">Qed</span>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">apply_well_typed_stack_infer</span> :=<br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H</span>: <a class="idref" href="well_typed.html#well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a> ?<span class="id" type="var">st</span> ?<span class="id" type="var">s</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="well_typed.html#well_typed_stack_infer"><span class="id" type="lemma">well_typed_stack_infer</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
</div>

<div class="doc">
<a name="lab160"></a><h1 class="section">Well-Typed Stack and Symbol Table</h1>

</div>
<div class="code">
<span class="id" type="keyword">Inductive</span> <a name="well_typed_stack_and_symboltable"><span class="id" type="inductive">well_typed_stack_and_symboltable</span></a>: <a class="idref" href="symboltable.html#symboltable_x"><span class="id" type="definition">symboltable_x</span></a> -&gt; <a class="idref" href="semantics.html#STACK.stack"><span class="id" type="definition">stack</span></a> -&gt; <span class="id" type="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="TStack_SymbolTable"><span class="id" type="constructor">TStack_SymbolTable</span></a>: <span class="id" type="keyword">forall</span> <span class="id" type="var">st</span> <span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_symbol_table"><span class="id" type="inductive">well_typed_symbol_table</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="well_typed.html#well_typed_stack_and_symboltable"><span class="id" type="inductive">well_typed_stack_and_symboltable</span></a> <a class="idref" href="well_typed.html#st"><span class="id" type="variable">st</span></a> <a class="idref" href="well_typed.html#s"><span class="id" type="variable">s</span></a>.<br/>

<br/>
<span class="id" type="keyword">Ltac</span> <span class="id" type="var">combine_well_typed_stack_and_symboltable</span> := <br/>
&nbsp;&nbsp;<span class="id" type="keyword">match</span> <span class="id" type="keyword">goal</span> <span class="id" type="keyword">with</span><br/>
&nbsp;&nbsp;| [<span class="id" type="var">H1</span>: <a class="idref" href="well_typed.html#well_typed_value_in_stack"><span class="id" type="inductive">well_typed_value_in_stack</span></a> ?<span class="id" type="var">st</span> ?<span class="id" type="var">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="var">H2</span>: <a class="idref" href="well_typed.html#well_typed_symbol_table"><span class="id" type="inductive">well_typed_symbol_table</span></a> ?<span class="id" type="var">st</span> |- <span class="id" type="var">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="tactic">specialize</span> (<a class="idref" href="well_typed.html#TStack_SymbolTable"><span class="id" type="constructor">TStack_SymbolTable</span></a> <span class="id" type="var">_</span> <span class="id" type="var">_</span> <span class="id" type="var">H1</span> <span class="id" type="var">H2</span>); <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" type="keyword">let</span> <span class="id" type="var">HZ</span> := <span class="id" type="tactic">fresh</span> "HZ" <span class="id" type="keyword">in</span> <span class="id" type="tactic">intros</span> <span class="id" type="var">HZ</span><br/>
&nbsp;&nbsp;<span class="id" type="keyword">end</span>.<br/>

<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>